package LeetCode.TOP_K;

import java.util.PriorityQueue;
import java.util.Queue;

/**
 * @ClassName _40_æœ€å°çš„Kä¸ªæ•°
 * @Description TODO https://leetcode-cn.com/problems/zui-xiao-de-kge-shu-lcof/solution/3chong-jie-fa-miao-sha-topkkuai-pai-dui-er-cha-sou/#%E4%BA%8C%E3%80%81%E5%A4%A7%E6%A0%B9%E5%A0%86%E5%89%8D-k-%E5%B0%8F-/-%E5%B0%8F%E6%A0%B9%E5%A0%86%EF%BC%88%E5%89%8D-k-%E5%A4%A7,java%E4%B8%AD%E6%9C%89%E7%8E%B0%E6%88%90%E7%9A%84-priorityqueue%EF%BC%8C%E5%AE%9E%E7%8E%B0%E8%B5%B7%E6%9D%A5%E6%9C%80%E7%AE%80%E5%8D%95%EF%BC%9A
 * @Author changxueyi
 * @Date 2020/5/2 14:56
 */
public class _40_æœ€å°çš„Kä¸ªæ•° {


    // å¤§æ ¹å †(å‰ K å°) / å°æ ¹å †ï¼ˆå‰ K å¤§),Javaä¸­æœ‰ç°æˆçš„ PriorityQueueï¼Œå®ç°èµ·æ¥æœ€ç®€å•ï¼šO(NlogK)O(NlogK)
    //æœ¬é¢˜æ˜¯æ±‚å‰ K å°ï¼Œå› æ­¤ç”¨ä¸€ä¸ªå®¹é‡ä¸º K çš„å¤§æ ¹å †ï¼Œæ¯æ¬¡ poll å‡ºæœ€å¤§çš„æ•°ï¼Œé‚£å †ä¸­ä¿ç•™çš„å°±æ˜¯å‰ K å°å•¦ï¼ˆæ³¨æ„ä¸æ˜¯å°æ ¹å †ï¼å°æ ¹å †çš„è¯éœ€è¦æŠŠå…¨éƒ¨çš„å…ƒç´ éƒ½å…¥å †ï¼Œé‚£æ˜¯ O(NlogN)O(NlogN)ğŸ˜‚ï¼Œå°±ä¸æ˜¯ O(NlogK)O(NlogK)å•¦ï½

    /**
     * ä¿æŒå †çš„å¤§å°ä¸ºKï¼Œç„¶åéå†æ•°ç»„ä¸­çš„æ•°å­—ï¼Œéå†çš„æ—¶å€™åšå¦‚ä¸‹åˆ¤æ–­ï¼š
     * // 1. è‹¥ç›®å‰å †çš„å¤§å°å°äºKï¼Œå°†å½“å‰æ•°å­—æ”¾å…¥å †ä¸­ã€‚
     * // 2. å¦åˆ™åˆ¤æ–­å½“å‰æ•°å­—ä¸å¤§æ ¹å †å †é¡¶å…ƒç´ çš„å¤§å°å…³ç³»ï¼Œå¦‚æœå½“å‰æ•°å­—æ¯”å¤§æ ¹å †å †é¡¶è¿˜å¤§ï¼Œè¿™ä¸ªæ•°å°±ç›´æ¥è·³è¿‡ï¼›
     * //    åä¹‹å¦‚æœå½“å‰æ•°å­—æ¯”å¤§æ ¹å †å †é¡¶å°ï¼Œå…ˆpollæ‰å †é¡¶ï¼Œå†å°†è¯¥æ•°å­—æ”¾å…¥å †ä¸­
     */
    public int[] getLeastNumbers(int[] arr, int k) {
        if (k == 0 || arr.length == 0) {
            return new int[0];
        }
        //é»˜è®¤æ˜¯å°æ ¹å †,å®ç°å¤§æ ¹å †éœ€è¦é‡å†™ä¸€äº›æ¯”è¾ƒå™¨
        Queue<Integer> pq = new PriorityQueue<>((v1, v2) -> v2 - v1);
        for (int num : arr) {
            if (pq.size() < k) {
                pq.offer(num);
                //å¦‚æœå¤§é¡¶å †å †é¡¶å…ƒç´ å¤§äºç»™å®šå€¼çš„è¯
            } else if (num < pq.peek()) {
                //å°†é¦–ä¸ªå…ƒç´ ä»å †é¡¶å¼¹å‡ºå»(æœ€å¤§çš„é‚£ä¸ªå…ƒç´ ï¼‰
                pq.poll();
                //å°†å…ƒç´ æ’å…¥è¿›æ¥
                pq.offer(num);
            }
        }

        //å°†å †ä¸­æœ€å°çš„Kä¸ªå…ƒç´ è¿”å›
        int[] res = new int[pq.size()];
        int idx = 0;
        for (int num : pq) {
            res[idx++] = num;
        }
        return res;
    }

    //15ç‚¹12åˆ† ä½¿ç”¨å°é¡¶å †è§£å†³æœ€å°çš„Kä¸ªæ•°
    //åˆ†æï¼š å»ºç«‹æœ€å°çš„Ké¡¶å †
    // 1.å¦‚æœå †ä¸­çš„å…ƒç´ å°äºK ï¼Œç›´æ¥æ‰”è¿›å †ä¸­
    // 2.å¦‚æœå †ä¸­çš„å…ƒç´  ä¸º Käº†ï¼Œå¼€å§‹è¿›è¡Œæ¯”è¾ƒ
    // 3.å–å †é¡¶å…ƒç´ -*-------æ­¤å¤„æœ‰é—®é¢˜ï¼Œéœ€è¦ä¸€ä¸ªä¸€ä¸ªæ’å…¥ï¼Œæ•ˆç‡æå…¶çš„åº•ä¸‹


}